# Custom values for your chart
clusterName: ""
awsPartition: ""
awsAccountId: 3849
karpenterVersion: 

# Karpenter chart overrides
karpenter:
  settings:
    clusterName: ""
   # interruptionQueue: test-demo-cluster
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::3849:role/KarpenterControllerRole-test-demo-cluster
  controller:
    resources:
      requests:
        cpu: "1"
        memory: "1Gi"
      limits:
        cpu: "1"
        memory: "1Gi"

# Node Pool Configuration
nodePools:
  name: default
  requirements:
    - key: kubernetes.io/arch
      operator: In
      values:
        - "amd64"
    - key: kubernetes.io/os
      operator: In
      values:
        - "linux"
    - key: karpenter.sh/capacity-type
      operator: In
      values:
        - "on-demand"
    - key: karpenter.k8s.aws/instance-category
      operator: In
      values:
        - "t"
        - "m"
        - "r"
      minValues: 2
    - key: karpenter.k8s.aws/instance-family
      operator: Exists
      minValues: 5
    - key: karpenter.k8s.aws/instance-family
      operator: In
      values:
        - "m5"
        - "m5d"
        - "c5"
        - "c5d"
        - "c4"
        - "r4"
      minValues: 3
    - key: node.kubernetes.io/instance-type
      operator: Exists
      minValues: 10
    - key: karpenter.k8s.aws/instance-generation
      operator: Gt
      values:
        - "2"

  nodeClass:
    group: karpenter.k8s.aws
    kind: EC2NodeClass
    name: default
  expireAfter: 720h
  limits:
    cpu: "1000"
    memory: "1000Gi"
  disruption:
    consolidationPolicy: WhenEmptyOrUnderutilized
    consolidateAfter: 1m
  taints:
    - key: "example.com/special-taint"
      value: "my-value"
      effect: "NoSchedule"
    - key: "example.com/another-taint"
      effect: "NoExecute"
  labels:
    billing-team: my-team
    environment: production
  annotations:
    example.com/owner: "my-team"
    example.com/maintainer: "admin@company.com"
